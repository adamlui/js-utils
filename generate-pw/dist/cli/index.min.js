#!/usr/bin/env node
/**
 * © 2024–2026 Adam Lui & contributors under the MIT license.
 * Source: https://github.com/adamlui/js-utils/tree/main/generate-pw/src
 * Documentation: https://github.com/adamlui/js-utils/tree/main/generate-pw/docs
 */
(async()=>{var e,n=process.argv.slice(2),i=(globalThis.env={debugMode:n.some(e=>/^--?debug(?:-?mode)?$/.test(e)),devMode:/[\\/]src(?:[\\/]|$)/i.test(__dirname)},require("node-clipboardy")),o=require(`../generate-pw${env.devMode?"":".min"}.js`).generatePassword,{generateRandomLang:s,getMsgs:r,getSysLang:a}=require(`./lib/language${env.devMode?"":".min"}.js`),p=require(`./lib/log${env.devMode?"":".min"}.js`),t=require(`./lib/settings${env.devMode?"":".min"}.js`);Object.assign(globalThis.app??={},require(`../${env.devMode?"../":"./data/"}app.json`)),app.msgs=await r(env.debugMode?s({excludes:["en"]}):a()),app.urls.docs+="/#-command-line-usage";for(e of n){if(t.controls.init.regex.test(e))return t.initConfigFile();if(t.controls.help.regex.test(e))return p.help();if(t.controls.version.regex.test(e))return p.version()}t.load();r={length:app.config.length,qty:app.config.qty,strength:app.config.mode,charset:app.config.charset,exclude:app.config.excludeChars,numbers:!app.config.excludeNums,symbols:!app.config.excludeSymbols,lowercase:!app.config.excludeLowerChars,uppercase:!app.config.excludeUpperChars,similarChars:app.config.similarChars,strict:!app.config.unstrict,entropy:app.config.entropy,verbose:!app.config.quietMode};i.writeSync([].concat(o(r)).join("\n")),p.ifNotQuiet(`
${app.msgs.info_copying}...`)})();