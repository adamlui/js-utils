#!/usr/bin/env node
/**
 * © 2024–2026 Adam Lui & contributors under the MIT license.
 * Source: https://github.com/adamlui/scss-to-css/tree/main/src
 * Documentation: https://github.com/adamlui/scss-to-css/tree/main/docs
 */
(async()=>{globalThis.env={args:process.argv.slice(2),devMode:/[\\/]src(?:[\\/]|$)/i.test(__dirname)},env.debugMode=env.args.some(e=>/^--?debug(?:-?mode)?$/.test(e)),env.modExt=`${env.devMode?"":".min"}.js`;let e=require("./lib/compile"+env.modExt),s=require("../scss-to-css"+env.modExt).findSCSS,i=require("fs"),r=require("./lib/init"+env.modExt),o=require("./lib/log"+env.modExt),c=require("path");if(await r.cli(),cli.config.init)return r.configFile();if(cli.config.help)return o.help();if(cli.config.version)return o.version();var[n="",t=""]=env.args.filter(e=>!e.startsWith("-")).map(e=>e.replace(/^\/*/,""));let l=c.resolve(process.cwd(),n);n&&!i.existsSync(l)&&(d=l+".scss",i.existsSync(d)?l=d:(o.error(`${cli.msgs.error_firstArgNotExist}.\n${l} ${cli.msgs.error_doesNotExist}.`),o.success(cli.msgs.info_exampleValidCmd+`: 
» scss-to-css . output.min.css`),o.helpCmdAndDocURL(),process.exit(1)));var d=/s[ac]ss$/.test(l)&&!i.statSync(l).isDirectory()?[l]:s(l,{recursive:!cli.config.noRecursion,verbose:!cli.config.quietMode,ignores:cli.config.ignores});env.debugMode||cli.config.dryRun?d.length?(o.info(cli.msgs.info_scssFilesToBeCompiled+":"),d.forEach(e=>o.dim(e))):o.info(`
${cli.msgs.info_noSCSSfilesWillBeCompiled}.`):e.scss({srcFiles:d,inputPath:l,inputArg:n,outputArg:t})})();