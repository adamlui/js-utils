/**
 *  © 2024 Adam Lui under the MIT license.
 *  Source: https://github.js-utils.com/tree/main/geolocate/src
 *  Documentation: https://github.js-utils.com/tree/main/geolocate/docs
 */
async function geolocate(t){let o;try{o=require("generate-ip").ipv4.validate}catch(e){await import("https://cdn.jsdelivr.net/npm/generate-ip/dist/generate-ip.min.js"),o=ipv4.validate}if(o&&!o(t,{verbose:!1}))console.error("geolocate() » ERROR: Invalid IP address passed."),console.info("geolocate() » For more help, please visit https://github.com/adamlui/js-utils/tree/main/geolocate#locateip");else try{let e;if("undefined"!=typeof fetch)e=await fetch("http://ip-api.com/json/"+t);else{if("function"!=typeof require)return console.error("geolocate() » ERROR: Environment not supported.");e=await require("axios").get("http://ip-api.com/json/"+t)}const{status:i,org:r,as:n,query:c,...a}=await e.json();return{ip:t,...a}}catch(e){console.error("geolocate() »",e)}}async function getOwnIP(){return fetch("https://ifconfig.me/ip").then(e=>e.text()).catch(()=>fetch("http://ip-api.com/json/").then(e=>e.json()).then(e=>e.query)).catch(async()=>{try{var e=require("child_process")["exec"],t=require("util")["promisify"],{stdout:o,stderr:i}=await t(e)("curl -s ifconfig.me");return i?console.error("getOwnIP() »",i):o.trim()}catch(e){console.error("getOwnIP() »",e)}})}const apiFunctions={geolocate:geolocate,locate:geolocate,getOwnIP:getOwnIP};try{module.exports={...apiFunctions}}catch(e){}try{window.geo={...apiFunctions}}catch(e){}