#!/usr/bin/env node
/**
 * © 2024–2026 Adam Lui & contributors under the MIT license.
 * Source: https://github.com/adamlui/js-utils/tree/main/generate-ip/src
 * Documentation: https://github.com/adamlui/js-utils/tree/main/generate-ip/docs
 */
(async()=>{var e,i=process.argv.slice(2),n=(globalThis.env={debugMode:i.some(e=>/^--?debug(?:-?mode)?$/.test(e)),devMode:/[\\/]src(?:[\\/]|$)/i.test(__dirname)},require("node-clipboardy")),{generateRandomLang:o,getMsgs:r,getSysLang:s}=require(`./lib/language${env.devMode?"":".min"}.js`),{ipv4:t,ipv6:a,mac:g}=require(`../generate-ip${env.devMode?"":".min"}.js`),d=require(`./lib/log${env.devMode?"":".min"}.js`),p=require(`./lib/settings${env.devMode?"":".min"}.js`);Object.assign(globalThis.app??={},require(`../${env.devMode?"../":"./data/"}app.json`)),app.msgs=await r(env.debugMode?o({excludes:["en"]}):s()),app.urls.docs+="/#-command-line-usage";for(e of i){if(p.controls.init.regex.test(e))return p.initConfigFile();if(p.controls.help.regex.test(e))return d.help();if(p.controls.version.regex.test(e))return d.version()}p.load();r={qty:app.config.qty,verbose:!app.config.quietMode},o={ipv4:t,ipv6:a,mac:g}[app.config.mode||"ipv4"].generate(r);d.ifNotQuiet(`
${app.msgs.info_copying}...`),n.writeSync([].concat(o).join("\n"))})();