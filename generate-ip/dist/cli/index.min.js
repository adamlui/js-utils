#!/usr/bin/env node
/**
 * © 2024–2026 Adam Lui & contributors under the MIT license.
 * Source: https://github.com/adamlui/js-utils/tree/main/generate-ip/src
 * Documentation: https://github.com/adamlui/js-utils/tree/main/generate-ip/docs
 */
(async()=>{globalThis.env={args:process.argv.slice(2),devMode:/[\\/]src(?:[\\/]|$)/i.test(__dirname)},env.debugMode=env.args.some(e=>/^--?debug(?:-?mode)?$/.test(e));var e,i=require("node-clipboardy"),{ipv4:n,ipv6:o,mac:s}=require(`../generate-ip${env.devMode?"":".min"}.js`),r=require(`./lib/language${env.devMode?"":".min"}.js`),g=require(`./lib/log${env.devMode?"":".min"}.js`),a=require(`./lib/settings${env.devMode?"":".min"}.js`);Object.assign(globalThis.cli??={},require(`../${env.devMode?"../":"data/"}package-data.json`)),a.load("uiLang"),env.sysLang=cli.config.uiLang||(env.debugMode?r.generateRandomLang({excludes:["en"]}):r.getSysLang()),cli.msgs=await r.getMsgs(env.sysLang),cli.urls.docs+="/#-command-line-usage";for(e of env.args){if(a.controls.init.regex.test(e))return a.initConfigFile();if(a.controls.help.regex.test(e))return g.help();if(a.controls.version.regex.test(e))return g.version()}a.load();r={qty:cli.config.qty,verbose:!cli.config.quietMode},n={ipv4:n,ipv6:o,mac:s}[cli.config.mode||"ipv4"].generate(r);g.ifNotQuiet(`
${cli.msgs.info_copyingToClip}...`),i.writeSync([].concat(n).join("\n"))})();