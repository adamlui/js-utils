#!/usr/bin/env node
const e=require(__dirname.match(/src/)?"./generate-ip":"./generate-ip.min")["ipv4"],o=require("child_process")["execSync"],s="[0m",r="[1;91m",n="[1;33m",t="[1;97m",c={infoCmds:{help:/^--?h(?:elp)?$/,version:/^--?ve?r?s?i?o?n?$/}};let i=!1,a;for(const m of Object.keys(c))for(const f of Object.keys(c[m]))i||process.argv.forEach(e=>{e.startsWith("-")&&(a=c[m][f].test(e)?void(i=!0):e)});if(a&&(console.error(`
${r}ERROR: Arg [${a}] not recognized.`+s),console.info(`
${n}Valid arguments are below.`+s),l(["infoCmds"]),process.exit(1)),process.argv.some(e=>c.infoCmds.help.test(e)))l();else if(process.argv.some(e=>c.infoCmds.version.test(e)))console.info("v"+require("./package.json").version);else{const h=e.generate({verbose:!1});p(h),console.log(t+h+s)}function l(e=["cmdFormat","formatOptions","infoCmds"]){const o={cmdFormat:[`
${n}generate-ip [commands]`+s],infoCmds:["\nInfo commands:"," -h, --help                  Display help screen."," -v, --version               Show version number."]};e.forEach(e=>{o[e]?.forEach(e=>{{const r=process.stdout.columns||80,n=[],o=e.match(/\S+|\s+/g);let s="";o.forEach(e=>{var o=r-(0===n.length?0:29);s.length+e.length>o&&(n.push(0===n.length?s:s.trimStart()),s=""),s+=e}),n.push(0===n.length?s:s.trimStart()),n.forEach((e,o)=>console.info(0===o?e:" ".repeat(29)+e))}})})}function p(e){e=e.replace(/\s+$/,"").replace(/"/g,'""'),"darwin"===process.platform?o(`printf "${e}" | pbcopy`):"linux"===process.platform?o(`printf "${e}" | xclip -selection clipboard`):"win32"===process.platform&&o(`Set-Clipboard -Value "${e}"`,{shell:"powershell"})}